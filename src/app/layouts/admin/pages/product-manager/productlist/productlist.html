<div class="flex justify-between mb-4">
  <h2 class="text-xl font-bold">Quản lý Sản phẩm</h2>
  <div class="flex gap-0.5">
    <form action="/admin/product/search">
      <input
        name="keywords"
        type="text"
        class="border-1 h-10 px-4 py-2 rounded-l-sm transition text-gray-500"
        placeholder="Nhập tên sản phẩm tìm kiếm"
      />
      <button
        class="bg-blue-600 text-white px-4 py-2 rounded-r-sm hover:bg-blue-700 transition"
      >
        Tìm kiếm
      </button>
    </form>
    <button
      class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"
      (click)="goToAddProduct()"
    >
      Thêm mới
    </button>
  </div>
</div>

<table class="min-w-full bg-white border">
  <thead>
    <tr class="bg-gray-100 text-left">
      <th class="py-2 px-4 border">#</th>
      <th class="py-2 px-4 border">Tên</th>
      <th class="py-2 px-4 border">Ảnh</th>
      <th class="py-2 px-4 border">Giá</th>
      <th class="py-2 px-4 border">Danh mục</th>
      <th class="py-2 px-4 border">Mô tả</th>
      <th class="py-2 px-4 border text-center">Thao tác</th>
    </tr>
  </thead>
  <tbody>
    @for(product of products; track $index; let i = $index){
    <tr>
      <td class="py-2 px-4 border">{{ i + 1 }}</td>
      <td class="py-2 px-4 border">{{ product.name }}</td>
      <td class="py-2 px-4 border">
        <img
          [src]="product.image"
          alt="Ảnh"
          class="w-16 h-16 object-cover rounded"
        />
      </td>
      <td class="py-2 px-4 border">{{ product.price }}</td>
      <td class="py-2 px-4 border">{{ product.categoryName }}</td>
      <td class="py-2 px-4 border">{{ product.description }}</td>
      <td class="py-2 px-4 border text-center">
        <button
          (click)="edit(product.id)"
          class="text-blue-600 hover:underline mr-2"
        >
          Sửa
        </button>
        <button
          (click)="onDelete(product.id)"
          class="text-red-600 hover:underline"
        >
          Xoá
        </button>
      </td>
    </tr>
    }
  </tbody>
</table>
